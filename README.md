## About Jollof

Jollof.com is a lifestyle platform where users can connect to for their everyday needs and services that syncs with
their daily lifestyle, ranging from securing tickets to the latest Movies at the cinemas, to travelling to the most
exclusive places, securing services to tourist attractions, to getting tickets to Events, ordering the best Cuisine
from choice restaurants, to shopping for fashionable and trendy wears and buying everyday products from verified
businesses. Therefore Jollof.com comprises of different micro sites which serve different purpose and functions to
users.

## About Project

This project is built on the Laravel Php framework with MySQL serving as it's database layer. The project utilizes
muiltiple libraries and packages which can be found in

-   `composer.json`
-   `package.json`

## Routing

The application web routes have been customized a bit and are in the `routes/web` folder. The web route files have
been split into three namely

-   `admin.php`
-   `merchant.php`
-   `user.php`

These files are loaded by the `RouteServiceProvider` and each handle routing for its type of user. Visit
[here](https://laravel.com/docs/routing) to read more about routing in Laravel.

## Controllers

All Controllers are located in the `Controllers` namespace. `sub-namespaces` have been created to serve different
application users. These namespaces are

-   Admin
-   Merchant
-   User

There is a one-to-one mapping between the route web file and the Controller namespaces. Therefore `admin.php` route
file will load Controllers in the `Admin` namespace. This also applies to the `merchant.php` and `user.php` route files
and their corresponding controller namespaces.

Splitting the Controller namespaces this way means each namespace could have its own version of a Controller which
would not conflict with another Controller in another namespace but with the same name. To illustrate,
`App\Http\Controllers\User\HomeController` and `App\Http\Controllers\Admin\HomeController` are different Controllers
even though they have the same name.

## Models

While Laravel does not have a dedicated namespace for models, this application does. We believe it makes the
application structure more intuitive. To generate models that will be placed in the `models` namespace
automatically, use

```
php artisan make:model Models/Modelname
```

## Conventions

-   All Controllers should be RESTful by default.
-   Intermittently fix your code with the included `.php_cs` configuration file. This is as simple as running

```
composer fix
```

-   Application assets such as fonts, images, CSS and JS files in the public directory should not be added to Version
    Control. Doing this produces merge conflicts especially when those files are generated by a build tool such as webpack
    which Laravel mix uses under the hood.

-   As much as possible, rebase when pulling from origin instead of merging as rebasing does not create a commit while
    merge does. Visit [here](https://stackoverflow.com/questions/36148602/git-pull-vs-git-rebase/36148752) to read more.
    This can be done by running

```
git pull --rebase
```

-   The `develop` and `master` branches on Github are protected and are configured to reject push attempts from a local
    branch. The only way to add commits to both branches is to create a PR on Github. Therefore, all development should be
    done in appropriately named branches. Also, commits should be as descriptive as possible and change sets should be as
    small as possible.

-   All PRs should be created against the develop branch. You should not have to worry about this as the `develop` branch
    is the default branch on Github. PRs merging into `master` should only be created from the `develop` branch.

## Setup

To set up the project locally,

-   Clone the repository from source control.
-   Navigate to the cloned repo on your computer using the CLI and do the following
    -   Copy example env file to env `cp .env.example .env`.
    -   Generate application key using `php artisan key:generate`.
    -   Create a database in MySQL and enter its credentials in the `.env` file.
    -   Install composer packages using `composer install`.
    -   Migrate the database using `php artisan migrate`.
    -   Install npm packages and run the dev script using `npm install && npm dev`.
    -   Start Php's inbuilt server using `php artisan server`.

## Adding Audit Tracking

Audit tracking keeps track of all changes on the model. This is implemented by adding audit tracking to the model.

-   In the model, add namespace to use audit tracking `use OwenIt\Auditing\Contracts\Auditable;`
-   Implement it on the model class `implements Auditable` or multiple implement `implements MustVerifyEmail, Auditable`
-   Use the trait `use \OwenIt\Auditing\Auditable;`

## Note

The project README would be continually updated as the project progresses
